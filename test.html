<!DOCTYPE html>
<html lang="ko">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Label in Name Training</title>
<style>
body {
  font-family: sans-serif;
  max-width: 480px;
  margin: auto;
  padding: 20px;
}
.case {
  background: #f5f5f5;
  padding: 16px;
  margin-bottom: 20px;
  border-radius: 12px;
}
button { padding: 10px 14px; margin: 4px; border-radius: 8px; }
</style>
</head>
<body>

<h1>WCAG 2.5.3 Label in Name 평가</h1>

<div class="case" data-case="case1">
  <h2>Case 1 (오류)</h2>
  <button aria-label="전송하기">보내기</button>
  <p>정답: 오류(Error)</p>
  <div>
    <button class="answer-btn">오류(Error)</button>
    <button class="answer-btn">성공(Pass)</button>
    <button class="answer-btn">대상 없음(N/A)</button>
  </div>
</div>

<div class="case" data-case="case2">
  <h2>Case 2 (성공)</h2>
  <button aria-label="로그인">로그인</button>
  <p>정답: 성공(Pass)</p>
  <div>
    <button class="answer-btn">오류(Error)</button>
    <button class="answer-btn">성공(Pass)</button>
    <button class="answer-btn">대상 없음(N/A)</button>
  </div>
</div>

<div class="case" data-case="case3">
  <h2>Case 3 (대상없음)</h2>
  <input placeholder="전화번호 입력">
  <div>
    <button class="answer-btn">오류(Error)</button>
    <button class="answer-btn">성공(Pass)</button>
    <button class="answer-btn">대상 없음(N/A)</button>
  </div>
</div>

<div class="case" data-case="case4">
  <h2>Case 4 (대상없음)</h2>
  <button><span aria-hidden="true">❤️</span></button>
  <div>
    <button class="answer-btn">오류(Error)</button>
    <button class="answer-btn">성공(Pass)</button>
    <button class="answer-btn">대상 없음(N/A)</button>
  </div>
</div>

<script>
const participantId = "user_" + Math.floor(Math.random() * 100000);

const WEB_APP_URL = "https://script.google.com/macros/s/AKfycby7weRBELUzQjG6940354S0Y9crYlCmh6Fb5VtwOEKvlx4eEVKj3tUzEELW74O-eAzs/exec";

document.querySelectorAll(".answer-btn").forEach(btn => {
  btn.addEventListener("click", async (e) => {
    const caseDiv = e.target.closest(".case");
    const caseId = caseDiv.dataset.case;
    const answer = e.target.textContent;

    const payload = {
      participant: participantId,
      caseId,
      answer
    };

    fetch(WEB_APP_URL, {
      method: "POST",
      mode: "cors",
      headers: { 
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        participant: "testUser",
        caseId: "case1",
        answer: "오류(Error)"
      })
    })



    alert(`${caseId} 전송 완료!`);
  });
});
</script>

</body>
</html>
